<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Arms Race Game: Advanced Modelling and Equilibrium Exploration • RelationalContracts</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Arms Race Game: Advanced Modelling and Equilibrium Exploration">
<meta property="og:description" content="RelationalContracts">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RelationalContracts</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/index.html">Manuals</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/skranz/RelationalContracts">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="2_Arms_Race_Example_files/header-attrs-2.5/header-attrs.js"></script><link href="2_Arms_Race_Example_files/anchor-sections-1.0/anchor-sections.css" rel="stylesheet">
<script src="2_Arms_Race_Example_files/anchor-sections-1.0/anchor-sections.js"></script><script src="2_Arms_Race_Example_files/htmlwidgets-1.3/htmlwidgets.js"></script><link href="2_Arms_Race_Example_files/vis-4.20.1/vis.css" rel="stylesheet">
<script src="2_Arms_Race_Example_files/vis-4.20.1/vis.min.js"></script><script src="2_Arms_Race_Example_files/visNetwork-binding-2.0.9/visNetwork.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Arms Race Game: Advanced Modelling and Equilibrium Exploration</h1>
            
      
      
      <div class="hidden name"><code>2_Arms_Race_Example.Rmd</code></div>

    </div>

    
    
<p>In this vignette we will explore in more detail the arms race game described in our <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2210603">paper</a>. We use it to showcase some features of the <code>RelationContracts</code> package and other issues like equilibrium diagrams, detailed exploration of equilibria, finding multiple T-RNE, conducting comparative statics, and the benefits of changing games such that players don’t move simultaneously.</p>
<div id="the-arms-race-game" class="section level2">
<h2 class="hasAnchor">
<a href="#the-arms-race-game" class="anchor"></a>1. The Arms Race Game</h2>
<p>Consider two parties that can invest into weapons. The state is described by <code>x=(x1,x2)</code> where <code>x1</code> and <code>x2</code> are integer numbers between <code>0</code> and <code>x.max=3</code> that describe the weapon arsenal of each party.</p>
<p>Each period each party can try to increase its weapon arsenal by one unit for an investment cost <code>c.i</code>. The investment is successful only with an exogenously given success probability <code>sp=0.08</code>. A party can also reduce its arsenal by one unit for free.</p>
<p>Players can decide each period whether or not they want to attack the other player. If player 1 attacks, he inflicts harm of size <code>x1</code> on the other player but has attack costs <code>c.a * x1</code>.</p>
<p>Each unit in a player’s arsenal has maintance cost of <code>c.x</code> irrespectively of whether it is used for an attack or not. All cost parameters <code>c.x</code>, <code>c.a</code>, <code>c.i</code> shall be strictly positive.</p>
<p>The following code generates the game:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw">RelationalContracts</span>)
<span class="co"># Action space for each state</span>
<span class="co"># a1, a2: (w)ait or (a)ttack</span>
<span class="co"># i1, i2: (b)uild new weapons, (d)estroy own weapons</span>
<span class="kw">A.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">x1</span>,<span class="kw">x2</span>, <span class="kw">x.max</span>,<span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"A.fun"</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    A1=<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
      a1=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"w"</span>, <span class="co">if</span> (<span class="kw">x1</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"a"</span>),
      i1=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="co">if</span> (<span class="kw">x1</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"d"</span>,<span class="st">""</span>,<span class="co">if</span> (<span class="kw">x1</span><span class="op">&lt;</span><span class="kw">x.max</span>) <span class="st">"b"</span>)
    ),
    A2=<span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
      a2=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"w"</span>, <span class="co">if</span> (<span class="kw">x2</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"a"</span>),
      i2=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="co">if</span> (<span class="kw">x2</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"d"</span>,<span class="st">""</span>,<span class="co">if</span> (<span class="kw">x2</span><span class="op">&lt;</span><span class="kw">x.max</span>) <span class="st">"b"</span>)
    )
  )
}

<span class="co"># State transition function</span>
<span class="kw">trans.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">ax.df</span>,<span class="kw">x.max</span>, <span class="kw">sp</span>,<span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"trans.fun"</span>)

  <span class="co"># Transitions only depend on the state</span>
  <span class="co"># and investments, so we only consider</span>
  <span class="co"># unique combinations of these variables.</span>
  <span class="kw">tr</span> <span class="op">=</span> <span class="kw">ax.df</span> <span class="op">%&gt;%</span> 
    <span class="fu">select</span>(<span class="kw">x</span>,<span class="kw">x1</span>,<span class="kw">x2</span>,<span class="kw">i1</span>,<span class="kw">i2</span>) <span class="op">%&gt;%</span>
    <span class="fu">distinct</span>()
  
  <span class="co"># The changes in x1 and x2 are</span>
  <span class="co"># independent random variables.</span>
  <span class="co"># irv_joint_dist helps here.</span>
  <span class="kw">tr</span> <span class="op">=</span> <span class="kw">tr</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/irv_joint_dist.html">irv_joint_dist</a></span>(
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"change_1"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">i1</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">*</span><span class="kw">sp</span>),
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">i1</span><span class="op">==</span><span class="st">"d"</span>)<span class="op">*</span><span class="fl">1</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"change_2"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">i2</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">*</span><span class="kw">sp</span>),
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">i2</span><span class="op">==</span><span class="st">"d"</span>)<span class="op">*</span><span class="fl">1</span>)
    )
  )

  <span class="co"># We now simply specify the new values</span>
  <span class="co"># of x1 and x2 by adding the changes.</span>
  <span class="kw">tr</span> <span class="op">%&gt;%</span> <span class="fu">mutate</span>(
    new_x1 = <span class="kw">x1</span><span class="op">+</span><span class="kw">change_1</span>,
    new_x2 = <span class="kw">x2</span><span class="op">+</span><span class="kw">change_2</span>,
    xd = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="kw">new_x1</span>,<span class="st">"_"</span>,<span class="kw">new_x2</span>),
    xs=<span class="kw">x</span>
  )
}

<span class="co"># Maximum size of weapons arsenal</span>
<span class="kw">x.max</span> <span class="op">=</span> <span class="fl">3</span>
<span class="co"># State data frame</span>
<span class="kw">x.df</span> <span class="op">=</span> <span class="kw">tidyr</span>::<span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html">expand_grid</a></span>(x1=<span class="fl">0</span><span class="op">:</span><span class="kw">x.max</span>,x2=<span class="fl">0</span><span class="op">:</span><span class="kw">x.max</span>) <span class="op">%&gt;%</span>
  <span class="fu">mutate</span>(x = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="kw">x1</span>,<span class="st">"_"</span>, <span class="kw">x2</span>))


<span class="co"># Specify game</span>
<span class="kw">g</span> <span class="op">=</span> <span class="fu"><a href="../reference/rel_game.html">rel_game</a></span>(<span class="st">"Arms Race"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_options.html">rel_options</a></span>(lab.action.sep = <span class="st">""</span>) <span class="op">%&gt;%</span>  
  <span class="fu"><a href="../reference/rel_param.html">rel_param</a></span>(delta=<span class="fl">0.99</span>, rho=<span class="fl">0.65</span>, c.a=<span class="fl">0.05</span>,c.i=<span class="fl">0.01</span>, c.x=<span class="fl">0.3</span>,x.max=<span class="kw">x.max</span>, sp=<span class="fl">0.08</span>, d.factor=<span class="fl">0</span>, d.exp=<span class="fl">1</span>, can.destroy=<span class="fl">TRUE</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_states.html">rel_states</a></span>(<span class="kw">x.df</span>,A.fun=<span class="kw">A.fun</span>, trans.fun=<span class="kw">trans.fun</span>,
    pi1 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a1</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x1</span> <span class="op">-</span> (<span class="kw">a2</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i1</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x1</span>,
    pi2 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a2</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span> (<span class="kw">a1</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x1</span> <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i2</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x2</span>
  )
</pre></div>
<p>Note that we specify the action sets such that player 1 (and equivalently player 2) can only build new weapons (<code>i1="b"</code>) if <code>x1 &lt; x.max</code>. Similarly, she can only destroy weapons (<code>i1="d"</code>) and attack (<code>a1="a"</code>) if <code>x1 &gt; 0</code>. The most complex part in the game specification is the transition function <code>trans.fun</code>. Here we use the helper function <code>irv_joint_dist</code>. Take a look at the vignette on <a href="Link%20Here">Specifying Games</a> for a detailed explanation of this function.</p>
</div>
<div id="pareto-optimal-spe" class="section level2">
<h2 class="hasAnchor">
<a href="#pareto-optimal-spe" class="anchor"></a>2. Pareto-optimal SPE</h2>
<p>The following code solves for a Pareto-optimal SPE of this arms race game.</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">g.spe</span> <span class="op">=</span> <span class="kw">g</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/rel_spe.html">rel_spe</a></span>()
<span class="fu"><a href="../reference/get_eq.html">get_eq</a></span>(<span class="kw">g.spe</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span>, <span class="kw">ae.lab</span>)
</pre></div>
<pre><code>## # A tibble: 16 x 2
##    x     ae.lab 
##    &lt;chr&gt; &lt;chr&gt;  
##  1 0_0   w | w  
##  2 0_1   w | wd 
##  3 0_2   w | wd 
##  4 0_3   w | wd 
##  5 1_0   wd | w 
##  6 1_1   wd | wd
##  7 1_2   wd | wd
##  8 1_3   wd | wd
##  9 2_0   wd | w 
## 10 2_1   wd | wd
## 11 2_2   wd | wd
## 12 2_3   wd | wd
## 13 3_0   wd | w 
## 14 3_1   wd | wd
## 15 3_2   wd | wd
## 16 3_3   wd | wd</code></pre>
<p>We see that on the equilibrium path weapons will never be build and there are no attacks. Moreover, existing weapons will always be destroyed.</p>
<p>This is the case in every Pareto-optimal SPE. There is simply no direct benefit from aquiring, maintaining and using weapons: it only involves costs. The only reason to aquire weapons would be that the threat of using them increases a player’s bargaining position and allows him to extort payments from the other player. However, in a Pareto-optimal SPE, players can perfectly coordinate to ignore such threats.</p>
</div>
<div id="repeated-negotiation-equilibrium" class="section level2">
<h2 class="hasAnchor">
<a href="#repeated-negotiation-equilibrium" class="anchor"></a>3. Repeated Negotiation Equilibrium</h2>
<p>We now solve a repeated negotiation equilibrium (RNE) in which we assume that with probability <code>rho=0.65</code> players newly negotiate their relational contract at the beginning of a period. For numerical tractability we also assume that only in the first <code>T=1000</code> periods new negotiations can take place. We call this an T-RNE (see our <a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2210603">paper</a> for details).</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">g.rne</span> <span class="op">=</span> <span class="kw">g</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/rel_T_rne.html">rel_T_rne</a></span>(rho=<span class="fl">0.65</span>, T=<span class="fl">1000</span>)
<span class="fu"><a href="../reference/get_eq.html">get_eq</a></span>(<span class="kw">g.rne</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span>, <span class="kw">ae.lab</span>)
</pre></div>
<pre><code>##      x  ae.lab
## 1  0_0 wb | wb
## 2  0_1  wb | w
## 3  0_2   w | w
## 4  0_3   w | w
## 5  1_0  w | wb
## 6  1_1   w | w
## 7  1_2   w | w
## 8  1_3   w | w
## 9  2_0   w | w
## 10 2_1   w | w
## 11 2_2   w | w
## 12 2_3   w | w
## 13 3_0   w | w
## 14 3_1   w | w
## 15 3_2   w | w
## 16 3_3   w | w</code></pre>
<p>Attacks still don’t take place on the equilibrium path. Yet, weapons are never destroyed and in some states new weapons are build.</p>
</div>
<div id="equilibrium-diagram-with-state-transitions" class="section level2">
<h2 class="hasAnchor">
<a href="#equilibrium-diagram-with-state-transitions" class="anchor"></a>4. Equilibrium diagram with state transitions</h2>
<p>The function <code>eq_diagram</code> is useful to visualize the equilibrium:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="../reference/eq_diagram.html">eq_diagram</a></span>(<span class="kw">g.rne</span>, font.size=<span class="fl">20</span>)
</pre></div>
<div id="htmlwidget-ba5ca7610d3067772d37" style="width:672px;height:672px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ba5ca7610d3067772d37">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"group":["node","node","node","node","node","node","node","node","node","node","node","node","node","node","node","node"],"label":["0_0 \n-0.27 -0.27","0_1 \n-0.39 -0.18","0_2 \n-0.48 -0.12","0_3 \n-0.53 -0.09","1_0 \n-0.18 -0.39","1_1 \n-0.3 -0.3","1_2 \n-0.42 -0.27","1_3 \n-0.48 -0.25","2_0 \n-0.12 -0.48","2_1 \n-0.27 -0.42","2_2 \n-0.39 -0.39","2_3 \n-0.44 -0.36","3_0 \n-0.09 -0.53","3_1 \n-0.25 -0.48","3_2 \n-0.36 -0.44","3_3 \n-0.41 -0.41"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box"],"title":["0_0<br>ae: wb | wb<br>a1: wb | wb<br>a2: wb | wb<br>v1=-0.27 v2=-0.27<br>U=-0.53","0_1<br>ae: wb | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.4 v2=-0.19<br>U=-0.57","0_2<br>ae: w | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.5 v2=-0.14<br>U=-0.6","0_3<br>ae: w | w<br>a1: wb | a<br>a2: wb | w<br>v1=-0.56 v2=-0.12<br>U=-0.63","1_0<br>ae: w | wb<br>a1: w | wb<br>a2: ab | wb<br>v1=-0.19 v2=-0.4<br>U=-0.57","1_1<br>ae: w | w<br>a1: w | ab<br>a2: ab | w<br>v1=-0.33 v2=-0.33<br>U=-0.6","1_2<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.45 v2=-0.3<br>U=-0.69","1_3<br>ae: w | w<br>a1: wb | a<br>a2: ab | w<br>v1=-0.51 v2=-0.28<br>U=-0.72","2_0<br>ae: w | w<br>a1: w | wb<br>a2: ab | wb<br>v1=-0.14 v2=-0.5<br>U=-0.6","2_1<br>ae: w | w<br>a1: w | ab<br>a2: ab | wb<br>v1=-0.3 v2=-0.45<br>U=-0.69","2_2<br>ae: w | w<br>a1: w | ab<br>a2: ab | w<br>v1=-0.43 v2=-0.43<br>U=-0.78","2_3<br>ae: w | w<br>a1: wb | a<br>a2: ab | w<br>v1=-0.48 v2=-0.4<br>U=-0.8","3_0<br>ae: w | w<br>a1: w | wb<br>a2: a | wb<br>v1=-0.12 v2=-0.56<br>U=-0.63","3_1<br>ae: w | w<br>a1: w | ab<br>a2: a | wb<br>v1=-0.28 v2=-0.51<br>U=-0.72","3_2<br>ae: w | w<br>a1: w | ab<br>a2: a | wb<br>v1=-0.4 v2=-0.48<br>U=-0.8","3_3<br>ae: w | w<br>a1: w | a<br>a2: a | w<br>v1=-0.45 v2=-0.45<br>U=-0.81"],"font":["20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black","20px Arial black"]},"edges":{"id":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"from":[1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,14,14,14,14,14,15,15,15,15,15,16,16,16],"to":[6,2,5,7,3,5,1,6,8,4,6,2,7,7,3,8,10,2,6,9,1,11,3,7,9,1,5,10,2,12,4,8,10,2,6,11,3,11,3,7,12,4,14,6,10,13,5,15,7,11,13,5,9,14,6,16,8,12,14,6,10,15,7,15,7,11,16,8,10,14,9,11,15,9,13,10,12,16,10,14,11,11,15,12],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"color":["#000077","#000077","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd"],"width":[2,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"hidden":[false,false,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":{"to":{"enabled":true,"scaleFactor":1}}},"physics":{"solver":"barnesHut","stabilization":{"enabled":true,"onlyDynamicEdges":false,"fit":true}},"layout":{"improvedLayout":true}},"groups":["node"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p>Each blue box corresponds to a state <code>x</code>. Below the state label each box shows the negotiation payoffs <code>r1</code> and <code>r2</code> of both players in that state. We see how symmetric high weapon arsenals are bad for both players, due to costly weapon maintenance. In states with asymmetric arsenals, the player with fewer weapons has a lower negotiation payoff. The reason is that the player with more weapons has a higher threat potential and can thus extort higher payments in negotiations.</p>
<p>You can hover with the mouse over a state and see additional equilibrium information. First you see compact labels for the equilibrium path action profile <code>ae</code> and the profiles <code>a1</code> and <code>a2</code>, used to punish player 1 or 2, respectively, if they fail to make a required payment in the transfer stage. We explain further below how you can explore the candidates for these action profiles in more detail in order to understand why these particular action profiles have been chosen.</p>
<p>You further see the joint continuation payoff <code>U</code> and the lowest implementable continuation payoffs taking into account future negotiations <code>v1</code> and <code>v2</code> for both players.</p>
<p>In our example, you can see from the punishment profiles that players are punished by an attack if the other player has weapons and typically the punishing player also attempts to build new weapons.</p>
<p>The diagramm further shows a directed arrow from one box to another if there is a positive transition probability on the equilbrium path. We see from the outgoing arrows that in the initial state “0_0” without weapons both players try to increase their arsenal. Recall that the success probability <code>sp</code> is only 8%. If both investments have been successful, play moves to state “1_1” and then no more investments take place. Players can then use the aquired weapons to deter any further investment attempts and thereby effectively prevent a continuation of the arms race.</p>
<p>If only one player successfully aquired weapons (state “0_1” or state “1_0”) then only the other player continues investing until state “1_1” is reached. This result may seem surprising: one might have suspected that e.g. in the state “1_0” player 1 can use the threat of an attack to prevent player 2 from investing, while player 1 continues investing himself.</p>
</div>
<div id="more-equilibrium-details-joint-payoffs-and-incentive-constraints-of-all-possible-action-profiles-in-a-state-" class="section level2">
<h2 class="hasAnchor">
<a href="#more-equilibrium-details-joint-payoffs-and-incentive-constraints-of-all-possible-action-profiles-in-a-state-" class="anchor"></a>5. More equilibrium details: Joint payoffs and incentive constraints of all possible action profiles in a state.</h2>
<p>To understand better what is going on in state “1_0” run the following code.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="co"># Solve again for RNE and store equilibrium details</span>
<span class="kw">g.rne</span> <span class="op">=</span> <span class="fu"><a href="../reference/rel_T_rne.html">rel_T_rne</a></span>(<span class="kw">g</span>,rho=<span class="fl">0.65</span>,T=<span class="fl">1000</span>,save.details = <span class="fl">TRUE</span>)

<span class="co"># Show equilibrium details for state "1_0"</span>
<span class="kw">g.rne</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/get_rne_details.html">get_rne_details</a></span>(x=<span class="st">"1_0"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">i1</span>!=<span class="st">"d"</span>, <span class="kw">i2</span>!=<span class="st">"d"</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span><span class="op">:</span><span class="kw">can.ae</span>)
</pre></div>
<pre><code>##     x   a.lab best.dev      U.hat IC.holds can.ae
## 1 1_0   w | w  wb | wb -0.5647873    FALSE      0
## 2 1_0  w | wb  wb | wb -0.5674622     TRUE      2
## 3 1_0  wb | w  wb | wb -0.5674622     TRUE      1
## 4 1_0 wb | wb  wb | wb -0.5705082     TRUE      0
## 5 1_0   a | w  wb | wb -0.5752873    FALSE      0
## 6 1_0  a | wb  wb | wb -0.5779622     TRUE      0
## 7 1_0  ab | w  wb | wb -0.5779622     TRUE      0
## 8 1_0 ab | wb  wb | wb -0.5810082     TRUE      0</code></pre>
<p>After we call <code>rel_T_rne</code> with the option <code>save.details=TRUE</code>, we can use the call <code><a href="../reference/get_rne_details.html">get_rne_details(x="1_0")</a></code> to get a data frame with more detailed information about all possible action profiles that could have been chosen in a state “1_0”. (To have a smaller data frame, we removed the rows corresponding to action profiles in which some player would destroy one of her weapons.)</p>
<p>The action profiles are ordered decreasingly in <code>U.hat</code>, the sum of both players’ continuation payoffs that would be achieved if this action profile were chosen once and then play continued on the equilibrium path. This means the jointly best action profile would be that both players wait, since the column <code>a.lab</code> of the first row is “w | w”.</p>
<p>You may note that the <code>U.hat</code> don’t differ by much. One reason is that we assumed a large discount factor of <code>delta=0.99</code>, i.e. current period payoffs only account for 1% of the average discounted continuation payoffs. To compute <code>U.hat</code> for “w | w” we assume that in just one period the profile “w | w” would be chosen while afterwards again the actual equilibrium profile “w | wb” were chosen. This one time deviation does not matter much in terms of continuation payoff. Yet, the fact that “w | w” ranks above “w | wb” means that we would also get increases in joint payoffs (and larger ones) if we could implement “w | w” in every period on the equilibrium path in state “1_0”.</p>
<p>Assume the profile in column <code>a.lab</code> should be played in an equilibrium. The profile in the column <code>best.dev</code> then shows for both players the actions to which they would deviate if they would know for sure that in the next period new negotiations take place. In our example, both players would always want to choose “wb”, i.e. build new weapons (b) and don’t attack (w). However, given that the actual negotiation probability <code>rho=0.65</code> is below 100%, players can use transfers and punishment threats to implement more efficient profiles than “wb | wb” on the equilibrium path.</p>
<p>The column <code>IC.holds</code> shows whether holding all future negotiation payoffs fixed, one could implement the corresponding action profile in the current state. The equilibrium path profile in an RNE always corresponds to the profile with the largest <code>U.hat</code> among all profiles for which <code>IC.holds</code> is true. In our example, the most efficient profile “w | w” cannot be implemented: the incentives to build weapons are simply too strong.</p>
<p>However, we see that both profiles in which only one player builds, i.e. “w | wb” and “wb | w”, can be implemented. Both yield the same joint payoff <code>U.hat</code>. The column <code>can.ae</code> is a 2 for the profile that is actually chosen on the equilibrium path and a 1 for a profile that could be equivalently chosen on the equilibrium path.</p>
<p>The profile “w | wb” in state “1_0” can be implemented in the following way. Player 2 makes on the equilibrium path in each period relatively large payments to player 1 for the right to invest into weapons and the willigness of player 1 not to invest herself. Should player 2 deviate from those payments, he will be punished by an attack by player 1. Should player 1 deviate and invest herself, she would be “punished” by a refusal of player 2 to continue those payments (at least until new negotiations take place).</p>
<p>In this equilibrium player 1 makes relatively high payoffs as long as player 2’s investments are not successful and play remains in state “1_0”. However, once state “1_1” is reached, players are in a symmetric situation and no more payments will be extorted on the equilibrium path.</p>
</div>
<div id="finding-alternative-t-rne" class="section level2">
<h2 class="hasAnchor">
<a href="#finding-alternative-t-rne" class="anchor"></a>6. Finding alternative T-RNE</h2>
<p>Even though T-RNE negotiation payoffs are unique for a fixed T, there can be multiple T-RNE that differ by the chosen action profiles in one or several states. Run the following code to find an alternative T-RNE in which in state “1_0” the action profile “wb | w” would be chosen in which player 1 instead of player 2 invests.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="co"># Solve again for RNE and store equilibrium details</span>
<span class="kw">g.rne</span> <span class="op">=</span> <span class="fu"><a href="../reference/rel_T_rne.html">rel_T_rne</a></span>(<span class="kw">g</span>,rho=<span class="fl">0.65</span>,T=<span class="fl">1000</span>,save.details = <span class="fl">TRUE</span>,tie.breaking = <span class="st">"max_r1"</span>)

<span class="fu"><a href="../reference/eq_diagram.html">eq_diagram</a></span>(<span class="kw">g.rne</span>)
</pre></div>
<div id="htmlwidget-81e7b8399e929eeaf818" style="width:480px;height:384px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-81e7b8399e929eeaf818">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"group":["node","node","node","node","node","node","node","node","node","node","node","node","node","node","node","node"],"label":["0_0 \n-0.27 -0.27","0_1 \n-0.39 -0.18","0_2 \n-0.48 -0.12","0_3 \n-0.53 -0.09","1_0 \n-0.18 -0.39","1_1 \n-0.3 -0.3","1_2 \n-0.42 -0.27","1_3 \n-0.48 -0.25","2_0 \n-0.12 -0.48","2_1 \n-0.27 -0.42","2_2 \n-0.39 -0.39","2_3 \n-0.44 -0.36","3_0 \n-0.09 -0.53","3_1 \n-0.25 -0.48","3_2 \n-0.36 -0.44","3_3 \n-0.41 -0.41"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box"],"title":["0_0<br>ae: wb | wb<br>a1: wb | wb<br>a2: wb | wb<br>v1=-0.27 v2=-0.27<br>U=-0.53","0_1<br>ae: wb | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.4 v2=-0.19<br>U=-0.57","0_2<br>ae: w | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.5 v2=-0.14<br>U=-0.6","0_3<br>ae: w | w<br>a1: wb | a<br>a2: wb | w<br>v1=-0.56 v2=-0.12<br>U=-0.63","1_0<br>ae: wb | w<br>a1: wb | wb<br>a2: ab | w<br>v1=-0.19 v2=-0.4<br>U=-0.57","1_1<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.33 v2=-0.33<br>U=-0.6","1_2<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.45 v2=-0.3<br>U=-0.69","1_3<br>ae: w | w<br>a1: wb | a<br>a2: ab | w<br>v1=-0.51 v2=-0.28<br>U=-0.72","2_0<br>ae: w | w<br>a1: wb | wb<br>a2: ab | w<br>v1=-0.14 v2=-0.5<br>U=-0.6","2_1<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.3 v2=-0.45<br>U=-0.69","2_2<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.43 v2=-0.43<br>U=-0.78","2_3<br>ae: w | w<br>a1: wb | a<br>a2: ab | w<br>v1=-0.48 v2=-0.4<br>U=-0.8","3_0<br>ae: w | w<br>a1: w | wb<br>a2: a | w<br>v1=-0.12 v2=-0.56<br>U=-0.63","3_1<br>ae: w | w<br>a1: w | ab<br>a2: a | w<br>v1=-0.28 v2=-0.51<br>U=-0.72","3_2<br>ae: w | w<br>a1: w | ab<br>a2: a | w<br>v1=-0.4 v2=-0.48<br>U=-0.8","3_3<br>ae: w | w<br>a1: w | a<br>a2: a | w<br>v1=-0.45 v2=-0.45<br>U=-0.81"],"font":["24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black"]},"edges":{"id":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"from":[1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,14,14,14,14,14,15,15,15,15,15,16,16,16],"to":[6,2,5,7,3,5,1,6,8,4,6,2,7,7,3,8,10,2,6,9,1,11,3,7,9,1,5,10,2,12,4,8,10,2,6,11,3,11,3,7,12,4,14,6,10,13,5,15,7,11,13,5,9,14,6,16,8,12,14,6,10,15,7,15,7,11,16,8,10,14,9,11,15,9,13,10,12,16,10,14,11,11,15,12],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"color":["#000077","#000077","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd"],"width":[2,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"hidden":[false,false,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":{"to":{"enabled":true,"scaleFactor":1}}},"physics":{"solver":"barnesHut","stabilization":{"enabled":true,"onlyDynamicEdges":false,"fit":true}},"layout":{"improvedLayout":true}},"groups":["node"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co"># Show equilibrium details for state "1_0"</span>
<span class="kw">g.rne</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/get_rne_details.html">get_rne_details</a></span>(x=<span class="st">"1_0"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">i1</span>!=<span class="st">"d"</span>, <span class="kw">i2</span>!=<span class="st">"d"</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span><span class="op">:</span><span class="kw">can.ae</span>)
</pre></div>
<pre><code>##     x   a.lab best.dev      U.hat IC.holds can.ae
## 1 1_0   w | w  wb | wb -0.5647873    FALSE      0
## 2 1_0  w | wb  wb | wb -0.5674622     TRUE      1
## 3 1_0  wb | w  wb | wb -0.5674622     TRUE      2
## 4 1_0 wb | wb  wb | wb -0.5705082     TRUE      0
## 5 1_0   a | w  wb | wb -0.5752873    FALSE      0
## 6 1_0  a | wb  wb | wb -0.5779622     TRUE      0
## 7 1_0  ab | w  wb | wb -0.5779622     TRUE      0
## 8 1_0 ab | wb  wb | wb -0.5810082     TRUE      0</code></pre>
<p>The argument <code>tie.breaking</code> determines which action profile is chosen on the equilibrium path in some state if there are several incentive compatible profiles with the same joint payoff. The tie breaking rule “max_r1” prefers action profiles that more likely reaches future states in which player 1 has high negotiation payoffs.</p>
<p>We now see that in state “1_0” player 1 build new weapons instead of player 2. The negotiation payoffs are the same as in the previous case, however. Unique negotiation payoffs is a theoretical result that always holds for T-RNE.</p>
</div>
<div id="exploring-punishment-actions" class="section level2">
<h2 class="hasAnchor">
<a href="#exploring-punishment-actions" class="anchor"></a>7. Exploring punishment actions</h2>
<p>All equilibria have the form of <em>simple equilibria</em>, which we explain in detail in our <a href="https://www.uni-ulm.de/fileadmin/website_uni_ulm/mawi.inst.160/pdf_dokumente/mitarbeiter/kranz/dyngame.pdf">2017 article</a>. That article also explains how this class of equilibria can implement every SPE payoff simply by adjusting transfers on the equilibrium path.</p>
<p>The key idea is that on the equilibrium path the same action profile <span class="math inline">\(a^e(x)\)</span> is played in state <span class="math inline">\(x\)</span>. Should a player deviate, he is asked to pay a fine to the other player at the beginning of the next period. Should player <span class="math inline">\(i\)</span> fail to pay a fine, or some other required transfer on the equilibrium path, he is punished by playing for one period a punishment profile <span class="math inline">\(a^i(x)\)</span>. Punishment will be stopped once a player redeems himself by paying the fine.</p>
<p>The following code uses <code>get_rne_details</code> to explore the candidate punishment action profiles <span class="math inline">\(a^2\)</span> against player 2 in state “1_0”.</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="co"># Show details for punishment actions against</span>
<span class="co"># player 2 in state "1_0"</span>
<span class="kw">g.rne</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/get_rne_details.html">get_rne_details</a></span>(x=<span class="st">"1_0"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">i1</span>!=<span class="st">"d"</span>, <span class="kw">i2</span>!=<span class="st">"d"</span>) <span class="op">%&gt;%</span>
  <span class="fu">arrange</span>(<span class="kw">v2.hat</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span><span class="op">:</span><span class="kw">IC.holds</span>, <span class="kw">v2.hat</span>, <span class="kw">can.a2</span>)
</pre></div>
<pre><code>##     x   a.lab best.dev      U.hat IC.holds     v2.hat can.a2
## 1 1_0  ab | w  wb | wb -0.5779622     TRUE -0.4005789      2
## 2 1_0 ab | wb  wb | wb -0.5810082     TRUE -0.4005789      1
## 3 1_0   a | w  wb | wb -0.5752873    FALSE -0.3928838      0
## 4 1_0  a | wb  wb | wb -0.5779622     TRUE -0.3928838      0
## 5 1_0  wb | w  wb | wb -0.5674622     TRUE -0.3905789      0
## 6 1_0 wb | wb  wb | wb -0.5705082     TRUE -0.3905789      0
## 7 1_0   w | w  wb | wb -0.5647873    FALSE -0.3828838      0
## 8 1_0  w | wb  wb | wb -0.5674622     TRUE -0.3828838      0</code></pre>
<p>The variable <code>v2.hat</code> denotes the lowest continuation payoff that player 2 could guarantee himself if in the current period the profile in <code>a.lab</code> is supposed to be played and in all future the punishment profiles <span class="math inline">\(a^2(x)\)</span> are supposed to be played. I say “supposed to be played” because when computing <code>v2.hat</code>, we assume that the punished player 2 is allowed to optimally deviate from any of those action profiles. The best punishment profile in a given state is the one with the lowest value of <code>v2.hat</code> among all incentive compatible profiles, i.e. <code>IC.holds</code> must be true. Here we see that an optimal punishment against player 2 is that player 1 attacks (a) and builds (b) new weapons. Whether during the punishment player 2 just waits “w” or also builds weapons “wb”, does not matter. The value of <code>v2.hat</code> is only determined by player 2’s best reply which is always “wb”.</p>
<p>Similarly, we can explore the candidate punishment profiles <span class="math inline">\(a^1\)</span> against player 1 in state “1_0” with the following code:</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="co"># Show details for punishment actions against</span>
<span class="co"># player 2 in state "1_0"</span>
<span class="kw">g.rne</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/get_rne_details.html">get_rne_details</a></span>(x=<span class="st">"1_0"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">i1</span>!=<span class="st">"d"</span>, <span class="kw">i2</span>!=<span class="st">"d"</span>) <span class="op">%&gt;%</span>
  <span class="fu">arrange</span>(<span class="kw">v1.hat</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span><span class="op">:</span><span class="kw">IC.holds</span>, <span class="kw">v1.hat</span>, <span class="kw">can.a1</span>)
</pre></div>
<pre><code>##     x   a.lab best.dev      U.hat IC.holds     v1.hat can.a1
## 1 1_0  w | wb  wb | wb -0.5674622     TRUE -0.1890513      1
## 2 1_0 wb | wb  wb | wb -0.5705082     TRUE -0.1890513      2
## 3 1_0  a | wb  wb | wb -0.5779622     TRUE -0.1890513      1
## 4 1_0 ab | wb  wb | wb -0.5810082     TRUE -0.1890513      1
## 5 1_0   w | w  wb | wb -0.5647873    FALSE -0.1787927      0
## 6 1_0  wb | w  wb | wb -0.5674622     TRUE -0.1787927      0
## 7 1_0   a | w  wb | wb -0.5752873    FALSE -0.1787927      0
## 8 1_0  ab | w  wb | wb -0.5779622     TRUE -0.1787927      0</code></pre>
<p>Since player 2 has no weapons, he cannot attack to punish player 1. The only punishment in state “1_0” is that player 2 builds new weapons.</p>
</div>
<div id="comparative-statics" class="section level2">
<h2 class="hasAnchor">
<a href="#comparative-statics" class="anchor"></a>8. Comparative Statics</h2>
<div id="increasing-the-success-probability-of-investments" class="section level3">
<h3 class="hasAnchor">
<a href="#increasing-the-success-probability-of-investments" class="anchor"></a>8.1 Increasing the success probability of investments</h3>
<p>So far we have assumed that the success probability <code>sp</code> of investments is only 8%. We now want to study how the T-RNE changes if instead weapon investments are always successful, i.e. <code>sp=1</code>, keeping all other parameters the same:</p>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="kw">g1</span> <span class="op">=</span> <span class="kw">g</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/rel_change_param.html">rel_change_param</a></span>(sp=<span class="fl">1</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_T_rne.html">rel_T_rne</a></span>(T=<span class="fl">1000</span>)
</pre></div>
<p>Note that you can call <code>rel_change_param</code> only for game objects that have not been compiled (i.e. no equilibrium should yet have been solved). That is why I, originaly stored the game in the variable <code>g</code> but use different variable names for solved games, like <code>g1</code> here.</p>
<p>Given that the costs of weapon investments stayed constant but the success probability has dramatically gone up, investments have effectively become cheaper. One may thus suspect that in equilibrium larger weapon arsenals are aquired.</p>
<p>Let us take a look at the result:</p>
<div class="sourceCode" id="cb17"><pre class="downlit">
<span class="fu"><a href="../reference/eq_diagram.html">eq_diagram</a></span>(<span class="kw">g1</span>)
</pre></div>
<div id="htmlwidget-0626a885f50459c9188a" style="width:480px;height:384px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-0626a885f50459c9188a">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"group":["node","node","node","node","node","node","node","node","node","node","node","node","node","node","node","node"],"label":["0_0 \n0 0","0_1 \n-0.01 0.01","0_2 \n-0.02 0.01","0_3 \n-0.03 0.01","1_0 \n0.01 -0.01","1_1 \n0 0","1_2 \n-0.01 0","1_3 \n-0.02 0","2_0 \n0.01 -0.02","2_1 \n0 -0.01","2_2 \n-0.01 -0.01","2_3 \n-0.02 -0.01","3_0 \n0.01 -0.03","3_1 \n0 -0.02","3_2 \n-0.01 -0.02","3_3 \n-0.02 -0.02"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box"],"title":["0_0<br>ae: w | w<br>a1: wb | wb<br>a2: wb | wb<br>v1=-0.02 v2=-0.02<br>U=0","0_1<br>ae: w | wd<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.04 v2=-0.02<br>U=0","0_2<br>ae: w | wd<br>a1: wb | ab<br>a2: wb | wd<br>v1=-0.06 v2=-0.02<br>U=-0.01","0_3<br>ae: w | wd<br>a1: wb | a<br>a2: wb | wd<br>v1=-0.07 v2=-0.03<br>U=-0.02","1_0<br>ae: wd | w<br>a1: w | wb<br>a2: ab | wb<br>v1=-0.02 v2=-0.04<br>U=0","1_1<br>ae: w | wd<br>a1: wb | ab<br>a2: ab | wb<br>v1=-0.04 v2=-0.04<br>U=-0.01","1_2<br>ae: wd | wd<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.06 v2=-0.05<br>U=-0.01","1_3<br>ae: wd | wd<br>a1: wb | a<br>a2: ab | wd<br>v1=-0.07 v2=-0.05<br>U=-0.03","2_0<br>ae: wd | w<br>a1: wd | wb<br>a2: ab | wb<br>v1=-0.02 v2=-0.06<br>U=-0.01","2_1<br>ae: wd | wd<br>a1: w | ab<br>a2: ab | wb<br>v1=-0.05 v2=-0.06<br>U=-0.01","2_2<br>ae: wd | wd<br>a1: wb | ab<br>a2: ab | wb<br>v1=-0.06 v2=-0.06<br>U=-0.03","2_3<br>ae: wd | wd<br>a1: wb | a<br>a2: ab | w<br>v1=-0.07 v2=-0.07<br>U=-0.03","3_0<br>ae: wd | w<br>a1: wd | wb<br>a2: a | wb<br>v1=-0.03 v2=-0.07<br>U=-0.02","3_1<br>ae: wd | wd<br>a1: wd | ab<br>a2: a | wb<br>v1=-0.05 v2=-0.07<br>U=-0.03","3_2<br>ae: wd | wd<br>a1: w | ab<br>a2: a | wb<br>v1=-0.07 v2=-0.07<br>U=-0.03","3_3<br>ae: wd | wd<br>a1: w | a<br>a2: a | w<br>v1=-0.08 v2=-0.08<br>U=-0.04"],"font":["24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black"]},"edges":{"id":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"from":[1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,14,14,14,14,14,15,15,15,15,15,16,16,16],"to":[6,2,5,7,3,5,1,6,8,4,6,2,7,7,3,8,10,2,6,9,1,11,3,7,9,1,5,10,2,12,4,8,10,2,6,11,3,11,3,7,12,4,14,6,10,13,5,15,7,11,13,5,9,14,6,16,8,12,14,6,10,15,7,15,7,11,16,8,10,14,9,11,15,9,13,10,12,16,10,14,11,11,15,12],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"color":["#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#000077","#dddddd","#dddddd"],"width":[1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,1,1,1,2,1,1,2,1,1,1,1,2,1,1,2,1,1],"hidden":[true,true,true,true,true,true,false,true,true,true,true,false,true,true,false,true,true,true,true,true,false,true,true,true,true,true,false,true,true,true,true,true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,false,true,true,true,true,false,true,true,true,true,true,true,true,false,true,true,true,true,false,true,true,true,true,true,false,true,true,false,true,true,true,true,false,true,true,false,true,true]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":{"to":{"enabled":true,"scaleFactor":1}}},"physics":{"solver":"barnesHut","stabilization":{"enabled":true,"onlyDynamicEdges":false,"fit":true}},"layout":{"improvedLayout":true}},"groups":["node"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p>We have quite an opposite result. Now in no state weapon investments are conducted. Moreover, if players start with strictly positive weapon arsenals, they reduce their weapon arsenals step by step until the weapon-free state “0_0” is reached. To understand the result, note that players invest as punishment (and attack if the current arsenal of the punisher is positive). Since investments are always successful, the threat of a quick aquisition of weapons, which will be used if the punished player refues to pay a fine, is sufficient to prevent any weapon aquisition on the equilibrium path. Moreover, this threat is so effective that it can even incentivize players to reduce their weapon arsenal.</p>
<p>This outcome is facilitated by the fact that a high weapon arsenal generally gives less scope for extortion if the other player can quickly and cheaply build his own arsenal. You see that the differences in negotiation payoffs in asymmetric states like “3_0” or “0_3” are much smaller than in the previous specification in which weapon investments only were successful with a probability of 8%.</p>
</div>
<div id="changing-some-other-parameters" class="section level3">
<h3 class="hasAnchor">
<a href="#changing-some-other-parameters" class="anchor"></a>Changing some other parameters</h3>
<p>In the following example we change some parameters again a bit.</p>
<div class="sourceCode" id="cb18"><pre class="downlit">
<span class="kw">g2</span> <span class="op">=</span> <span class="kw">g</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="../reference/rel_change_param.html">rel_change_param</a></span>(delta=<span class="fl">0.95</span>,rho=<span class="fl">0.6</span>,sp=<span class="fl">0.1</span>,c.x=<span class="fl">0.1</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_T_rne.html">rel_T_rne</a></span>(T=<span class="fl">1000</span>, save.details = <span class="fl">TRUE</span>)

<span class="fu"><a href="../reference/eq_diagram.html">eq_diagram</a></span>(<span class="kw">g2</span>)
</pre></div>
<div id="htmlwidget-cd490342dc18443b6147" style="width:480px;height:384px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-cd490342dc18443b6147">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16],"group":["node","node","node","node","node","node","node","node","node","node","node","node","node","node","node","node"],"label":["0_0 \n-0.07 -0.07","0_1 \n-0.41 0.24","0_2 \n-0.68 0.48","0_3 \n-0.89 0.59","1_0 \n0.24 -0.41","1_1 \n-0.1 -0.1","1_2 \n-0.41 0.11","1_3 \n-0.6 0.23","2_0 \n0.48 -0.68","2_1 \n0.11 -0.41","2_2 \n-0.2 -0.2","2_3 \n-0.36 -0.05","3_0 \n0.59 -0.89","3_1 \n0.23 -0.6","3_2 \n-0.05 -0.36","3_3 \n-0.21 -0.21"],"shape":["box","box","box","box","box","box","box","box","box","box","box","box","box","box","box","box"],"title":["0_0<br>ae: wb | wb<br>a1: wb | wb<br>a2: wb | wb<br>v1=-0.07 v2=-0.07<br>U=-0.14","0_1<br>ae: wb | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.46 v2=0.19<br>U=-0.17","0_2<br>ae: w | w<br>a1: wb | ab<br>a2: wb | w<br>v1=-0.78 v2=0.38<br>U=-0.2","0_3<br>ae: w | w<br>a1: wb | a<br>a2: wb | w<br>v1=-1.02 v2=0.46<br>U=-0.3","1_0<br>ae: w | wb<br>a1: w | wb<br>a2: ab | wb<br>v1=0.19 v2=-0.46<br>U=-0.17","1_1<br>ae: w | w<br>a1: w | ab<br>a2: ab | w<br>v1=-0.2 v2=-0.2<br>U=-0.2","1_2<br>ae: w | w<br>a1: wb | ab<br>a2: ab | w<br>v1=-0.55 v2=-0.03<br>U=-0.3","1_3<br>ae: w | w<br>a1: wb | a<br>a2: ab | w<br>v1=-0.77 v2=0.06<br>U=-0.37","2_0<br>ae: w | w<br>a1: w | wb<br>a2: ab | wb<br>v1=0.38 v2=-0.78<br>U=-0.2","2_1<br>ae: w | w<br>a1: w | ab<br>a2: ab | wb<br>v1=-0.03 v2=-0.55<br>U=-0.3","2_2<br>ae: w | w<br>a1: w | ab<br>a2: ab | w<br>v1=-0.37 v2=-0.37<br>U=-0.4","2_3<br>ae: wb | wd<br>a1: wb | a<br>a2: ab | w<br>v1=-0.57 v2=-0.26<br>U=-0.41","3_0<br>ae: w | w<br>a1: w | wb<br>a2: a | wb<br>v1=0.46 v2=-1.02<br>U=-0.3","3_1<br>ae: w | w<br>a1: w | ab<br>a2: a | wb<br>v1=0.06 v2=-0.77<br>U=-0.37","3_2<br>ae: wd | wb<br>a1: w | ab<br>a2: a | wb<br>v1=-0.26 v2=-0.57<br>U=-0.41","3_3<br>ae: wd | w<br>a1: w | a<br>a2: a | w<br>v1=-0.46 v2=-0.46<br>U=-0.42"],"font":["24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black","24px Arial black"]},"edges":{"id":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"from":[1,1,1,2,2,2,2,2,3,3,3,3,3,4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,8,8,8,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,14,14,14,14,14,15,15,15,15,15,16,16,16],"to":[6,2,5,7,3,5,1,6,8,4,6,2,7,7,3,8,10,2,6,9,1,11,3,7,9,1,5,10,2,12,4,8,10,2,6,11,3,11,3,7,12,4,14,6,10,13,5,15,7,11,13,5,9,14,6,16,8,12,14,6,10,15,7,15,7,11,16,8,10,14,9,11,15,9,13,10,12,16,10,14,11,11,15,12],"label":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"color":["#000077","#000077","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#dddddd","#000077","#dddddd","#dddddd","#000077"],"width":[2,2,2,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,1,2],"hidden":[false,false,false,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,false,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,false,true,false,true,true,true,true,true,true,true,true,true,true,false,true,true,true,false,true,true,false]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot"},"manipulation":{"enabled":false},"edges":{"arrows":{"to":{"enabled":true,"scaleFactor":1}}},"physics":{"solver":"barnesHut","stabilization":{"enabled":true,"onlyDynamicEdges":false,"fit":true}},"layout":{"improvedLayout":true}},"groups":["node"],"width":null,"height":null,"idselection":{"enabled":false},"byselection":{"enabled":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)"},"evals":[],"jsHooks":[]}</script><p>Interestingly, we find that in state “3_2” player 1 destroys (d) her weapons while at the same time player 2 tries to build (b) new weapons (the reverse holds in state “2_3). To understand what is going on let us explore the equilibrium details for state”3_2".</p>
<div class="sourceCode" id="cb19"><pre class="downlit">
<span class="kw">g2</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/get_rne_details.html">get_rne_details</a></span>(x=<span class="st">"3_2"</span>) <span class="op">%&gt;%</span>
  <span class="fu">select</span>(<span class="kw">x</span><span class="op">:</span><span class="kw">can.ae</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(<span class="fl">5</span>)
</pre></div>
<pre><code>##       x   a.lab best.dev      U.hat IC.holds can.ae
## 285 3_2 wd | wd   w | wb -0.3100000    FALSE      0
## 286 3_2  w | wd   w | wb -0.3760523    FALSE      0
## 287 3_2  wd | w   w | wb -0.4050000    FALSE      0
## 288 3_2 wd | wb   w | wb -0.4060773     TRUE      2
## 289 3_2   w | w   w | wb -0.4107735     TRUE      0</code></pre>
<p>The best profile would be that both players destroy their weapons “wd | wd”. Yet, this profile cannot be implemented (<code>IC.holds == FALSE</code>). Player 2’s prefered deviation is to build weapons (“wb”) and player 1’s to just wait (“w”), since she already has the maximum weapon arsenal. The next best profiles would be that just a single player destroys her weapons and the other waits (“w | wd” or “wd | w”). But they are not incentive compatible either. While “w | w” could be implemented, the profile “wd | wb” where player 1 destroys a weapon and player 2 tries to build one is also incentive compatible and yields a higher expected joint payoff <code>U.hat</code>. The reason that “wd | wb” is better than “w | w” is that investments are only successful with 8% probability, i. e. with 92% probability play transist to the state “2_2”. Note that in state “3_2” player 2 will make considerable transfers to player 1 in order for player 1 to agree to destroy her weapons and allowing player 2 to attempt new weapon investments.</p>
</div>
</div>
<div id="variant-attacks-can-destroy-weapons" class="section level2">
<h2 class="hasAnchor">
<a href="#variant-attacks-can-destroy-weapons" class="anchor"></a>9. Variant: Attacks can destroy weapons</h2>
<p>Trying out different parametrizations for the game above, you will find that attacks are only used as a threat in the punishment profiles, e.g. to credible extort payments, but never on the equilibrium path. If you think about it there is simply no reason to attack on the equilibrium path.</p>
<p>We now want to a variant of the game in which an attack has a positive probability to destroy weapons of the other player. More precisely, if player 1 attack player 2 there shall be a probability of <code>d.factor * x1 / x.max</code> that player 2’s arsenal is reduced by one unit, where <code>d.factor</code> is an exogenous parameter between 0 and 1.</p>
<div class="sourceCode" id="cb21"><pre class="downlit">
<span class="co"># State transition function</span>
<span class="kw">trans.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">ax.df</span>,<span class="kw">x.max</span>, <span class="kw">sp</span>,<span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"trans.fun"</span>)

  <span class="co"># Compute probability to destroy</span>
  <span class="co"># a weapon unit of other player</span>
  <span class="co"># if one attacks</span>
  <span class="kw">ax.df</span> <span class="op">=</span> <span class="fu">mutate</span>(<span class="kw">ax.df</span>,
    dp1 = <span class="kw">d.factor</span><span class="op">*</span>(<span class="kw">x1</span> <span class="op">/</span> <span class="kw">x.max</span>),
    dp2 = <span class="kw">d.factor</span><span class="op">*</span>(<span class="kw">x2</span> <span class="op">/</span> <span class="kw">x.max</span>)
  )


  <span class="kw">tr</span> <span class="op">=</span> <span class="fu"><a href="../reference/irv_joint_dist.html">irv_joint_dist</a></span>(<span class="kw">ax.df</span>,
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"i_change_1"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">i1</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">*</span><span class="kw">sp</span>),
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">i1</span><span class="op">==</span><span class="st">"d"</span>)<span class="op">*</span><span class="fl">1</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"i_change_2"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">i2</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">*</span><span class="kw">sp</span>),
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">i2</span><span class="op">==</span><span class="st">"d"</span>)<span class="op">*</span><span class="fl">1</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"a_change_1"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">a2</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">dp2</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"a_change_2"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">a1</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">dp1</span>)
    )
  )

  <span class="kw">tr</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span>(
      new_x1 = <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="kw">x1</span><span class="op">+</span><span class="kw">i_change_1</span><span class="op">+</span><span class="kw">a_change_1</span>,<span class="fl">0</span>),
      new_x2 = <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="kw">x2</span><span class="op">+</span><span class="kw">i_change_2</span><span class="op">+</span><span class="kw">a_change_2</span>,<span class="fl">0</span>),
      xd = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="kw">new_x1</span>,<span class="st">"_"</span>,<span class="kw">new_x2</span>),
      xs=<span class="kw">x</span>
    ) <span class="op">%&gt;%</span>
    <span class="fu">group_by</span>(<span class="kw">xs</span>,<span class="kw">xd</span>,<span class="kw">i1</span>,<span class="kw">i2</span>,<span class="kw">a1</span>,<span class="kw">a2</span>) <span class="op">%&gt;%</span>
    <span class="fu">summarize</span>(prob = <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span>(<span class="kw">prob</span>))
}


<span class="co"># Article version Attempt</span>
<span class="kw">g</span> <span class="op">=</span> <span class="fu"><a href="../reference/rel_game.html">rel_game</a></span>(<span class="st">"Arms Race with destruction"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_param.html">rel_param</a></span>(delta=<span class="fl">0.99</span>, rho=<span class="fl">0.65</span>, c.a=<span class="fl">0.05</span>,c.i=<span class="fl">0.01</span>, c.x=<span class="fl">0.2</span>,x.max=<span class="kw">x.max</span>, sp=<span class="fl">0.08</span>, d.factor=<span class="fl">0</span>, d.exp=<span class="fl">1</span>, can.destroy=<span class="fl">TRUE</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_states.html">rel_states</a></span>(<span class="kw">x.df</span>,A.fun=<span class="kw">A.fun</span>, trans.fun=<span class="kw">trans.fun</span>,
    pi1 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a1</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x1</span> <span class="op">-</span> (<span class="kw">a2</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i1</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x1</span>,
    pi2 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a2</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span> (<span class="kw">a1</span><span class="op">==</span><span class="st">"a"</span>)<span class="op">*</span><span class="kw">x1</span> <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i2</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x2</span>
  )
</pre></div>
</div>
<div id="an-arms-race-game-without-simultaneous-moves" class="section level2">
<h2 class="hasAnchor">
<a href="#an-arms-race-game-without-simultaneous-moves" class="anchor"></a>10. An arms race game without simultaneous moves</h2>
<div class="sourceCode" id="cb22"><pre class="downlit">
<span class="co"># Action space for each state</span>
<span class="kw">A.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">x1</span>,<span class="kw">x2</span>,<span class="kw">ap</span>, <span class="kw">x.max</span>,<span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"A.fun"</span>)
  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
    A1=<span class="co">if</span> (<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>) <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
      a1=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"wait"</span>, <span class="co">if</span> (<span class="kw">x1</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"attack"</span>),
      i1=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="co">if</span> (<span class="kw">x1</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"d"</span>,<span class="st">""</span>,<span class="co">if</span> (<span class="kw">x1</span><span class="op">&lt;</span><span class="kw">x.max</span>) <span class="st">"b"</span>)
    ),
    A2= <span class="co">if</span> (<span class="kw">ap</span><span class="op">==</span><span class="fl">2</span>) <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
      a2=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"wait"</span>, <span class="co">if</span> (<span class="kw">x2</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"attack"</span>),
      i2=<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="co">if</span> (<span class="kw">x2</span><span class="op">&gt;</span><span class="fl">0</span>) <span class="st">"d"</span>,<span class="st">""</span>,<span class="co">if</span> (<span class="kw">x2</span><span class="op">&lt;</span><span class="kw">x.max</span>) <span class="st">"b"</span>)
    )
  )
}

<span class="kw">pi.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">ax.df</span>,<span class="kw">c.a</span>,<span class="kw">c.x</span>,<span class="kw">c.i</span>, <span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"pi.fun"</span>)
  <span class="kw">ax1</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">ax.df</span>, <span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>) <span class="op">%&gt;%</span>
    <span class="fu">mutate</span>(
      pi1 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a1</span><span class="op">==</span><span class="st">"attack"</span>)<span class="op">*</span><span class="kw">x1</span>  <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i1</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x1</span>,
      pi2 = <span class="op">-</span> (<span class="kw">a1</span><span class="op">==</span><span class="st">"attack"</span>)<span class="op">*</span><span class="kw">x1</span> <span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x2</span>
    )
  <span class="kw">ax2</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span>(<span class="kw">ax.df</span>, <span class="kw">ap</span><span class="op">==</span><span class="fl">2</span>) <span class="op">%&gt;%</span>
    <span class="fu">mutate</span>(
      pi1 = <span class="op">-</span> (<span class="kw">a2</span><span class="op">==</span><span class="st">"attack"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x1</span>,
      pi2 = <span class="op">-</span><span class="kw">c.a</span><span class="op">*</span>(<span class="kw">a2</span><span class="op">==</span><span class="st">"attack"</span>)<span class="op">*</span><span class="kw">x2</span> <span class="op">-</span> <span class="kw">c.i</span><span class="op">*</span>(<span class="kw">i2</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">-</span><span class="kw">c.x</span><span class="op">*</span><span class="kw">x2</span>
    )
  <span class="fu">bind_rows</span>(<span class="kw">ax1</span>,<span class="kw">ax2</span>)
}

<span class="co"># State transition function</span>
<span class="kw">trans.fun</span> <span class="op">=</span> <span class="fu">function</span>(<span class="kw">ax.df</span>,<span class="kw">x.max</span>, <span class="kw">sp</span>,<span class="kw">d.factor</span>=<span class="fl">1</span>, <span class="kw">d.exp</span>=<span class="fl">1</span>,<span class="kw">...</span>) {
  <span class="fu">restore.point</span>(<span class="st">"trans.fun"</span>)

  <span class="co"># Compute probability to destroy</span>
  <span class="co"># a weapon unit of other player</span>
  <span class="co"># if one attacks</span>
  <span class="kw">ax.df</span> <span class="op">=</span> <span class="fu">mutate</span>(<span class="kw">ax.df</span>,
    i = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>,<span class="kw">i1</span>,<span class="kw">i2</span>),
    a = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>,<span class="kw">a1</span>,<span class="kw">a2</span>),
    xi = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>,<span class="kw">x1</span>,<span class="kw">x2</span>),
    xj = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>,<span class="kw">x2</span>,<span class="kw">x1</span>),
    dp = <span class="kw">d.factor</span><span class="op">*</span>(<span class="kw">xi</span> <span class="op">/</span> <span class="kw">x.max</span>)<span class="op">^</span><span class="kw">d.exp</span>
  )
  
  <span class="kw">tr</span> <span class="op">=</span> <span class="kw">ax.df</span> <span class="op">%&gt;%</span> 
    <span class="fu">distinct</span>(<span class="kw">ap</span>,<span class="kw">xi</span>,<span class="kw">xj</span>,<span class="kw">i</span>,<span class="kw">a</span>) <span class="op">%&gt;%</span>
    <span class="fu">left_join</span>(<span class="kw">ax.df</span>, by = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"ap"</span>, <span class="st">"xi"</span>, <span class="st">"xj"</span>, <span class="st">"i"</span>, <span class="st">"a"</span>))
  

  <span class="kw">tr</span> <span class="op">=</span> <span class="fu"><a href="../reference/irv_joint_dist.html">irv_joint_dist</a></span>(<span class="kw">tr</span>,
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"bi"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">i</span><span class="op">==</span><span class="st">"b"</span>)<span class="op">*</span><span class="kw">sp</span>),
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="op">-</span><span class="fl">1</span>, (<span class="kw">i</span><span class="op">==</span><span class="st">"d"</span>)<span class="op">*</span><span class="fl">1</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"dj"</span>,default=<span class="fl">0</span>,
      <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, (<span class="kw">a</span><span class="op">==</span><span class="st">"attack"</span>)<span class="op">*</span><span class="kw">dp</span>)
    ),
    <span class="fu"><a href="../reference/irv.html">irv</a></span>(<span class="st">"new_ap"</span>,<span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">1</span>, <span class="fl">0.5</span>), <span class="fu"><a href="../reference/irv_val.html">irv_val</a></span>(<span class="fl">2</span>, <span class="fl">0.5</span>))
  )

  <span class="kw">tr</span> <span class="op">=</span> <span class="kw">tr</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span>(
      new_xi = <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="kw">xi</span><span class="op">+</span><span class="kw">bi</span>,<span class="fl">0</span>),
      new_xj = <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">pmax</a></span>(<span class="kw">xj</span><span class="op">-</span><span class="kw">dj</span>,<span class="fl">0</span>),
      new_x1 = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>, <span class="kw">new_xi</span>,<span class="kw">new_xj</span>),
      new_x2 = <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="kw">ap</span><span class="op">==</span><span class="fl">1</span>, <span class="kw">new_xj</span>,<span class="kw">new_xi</span>),
      xd = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"p"</span>,<span class="kw">new_ap</span>,<span class="st">"_"</span>,<span class="kw">new_x1</span>,<span class="st">"_"</span>,<span class="kw">new_x2</span>),
      xs=<span class="kw">x</span>
    )
  <span class="kw">tr</span>
  
  <span class="kw">test</span> <span class="op">=</span> <span class="kw">tr</span> <span class="op">%&gt;%</span>
    <span class="fu">select</span>(<span class="kw">xs</span>,<span class="kw">xd</span>,<span class="kw">ap</span>,<span class="kw">i1</span>,<span class="kw">i2</span>,<span class="kw">a1</span>,<span class="kw">a2</span>, <span class="kw">prob</span>)
}

<span class="co"># Maximum size of weapons arsenal</span>
<span class="kw">x.max</span> <span class="op">=</span> <span class="fl">3</span>
<span class="kw">x.df1</span> <span class="op">=</span> <span class="kw">tidyr</span>::<span class="fu"><a href="https://tidyr.tidyverse.org/reference/expand_grid.html">expand_grid</a></span>(ap=<span class="fl">1</span>,x1=<span class="fl">0</span><span class="op">:</span><span class="kw">x.max</span>,x2=<span class="fl">0</span><span class="op">:</span><span class="kw">x.max</span>)  
<span class="kw">x.df2</span> <span class="op">=</span> <span class="kw">x.df1</span> <span class="op">%&gt;%</span> <span class="fu">mutate</span>(ap=<span class="fl">2</span>)
<span class="kw">x.df</span> <span class="op">=</span> <span class="fu">bind_rows</span>(<span class="kw">x.df1</span>, <span class="kw">x.df2</span>) <span class="op">%&gt;%</span>
  <span class="fu">mutate</span>(
    x = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="st">"p"</span>,<span class="kw">ap</span>,<span class="st">"_"</span> ,<span class="kw">x1</span>,<span class="st">"_"</span>, <span class="kw">x2</span>),
    xgroup = <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span>(<span class="kw">x1</span>,<span class="st">"_"</span>,<span class="kw">x2</span>)
  )

<span class="kw">g</span> <span class="op">=</span> <span class="fu"><a href="../reference/rel_game.html">rel_game</a></span>(<span class="st">"Arms Race Turns"</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_param.html">rel_param</a></span>(delta=<span class="fl">0.9</span>, rho=<span class="fl">0.6</span>, c.a=<span class="fl">0.012</span>,c.i=<span class="fl">0.01</span>, c.x=<span class="fl">0.01</span>,x.max=<span class="kw">x.max</span>, sp=<span class="fl">0.2</span>, d.factor=<span class="fl">0.8</span>, d.exp=<span class="fl">2</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_states.html">rel_states</a></span>(<span class="kw">x.df</span>,A.fun=<span class="kw">A.fun</span>, trans.fun=<span class="kw">trans.fun</span>,pi.fun=<span class="kw">pi.fun</span>) <span class="op">%&gt;%</span>
  <span class="fu"><a href="../reference/rel_compile.html">rel_compile</a></span>()

<span class="kw">g</span> <span class="op">=</span> <span class="kw">g</span> <span class="op">%&gt;%</span> <span class="fu"><a href="../reference/rel_capped_rne.html">rel_capped_rne</a></span>(T=<span class="fl">1001</span>)
</pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sebastian Kranz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
